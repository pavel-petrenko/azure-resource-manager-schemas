{
  "id": "https://schema.management.azure.com/schemas/2024-08-01-preview/Microsoft.BareMetalInfrastructure.json#",
  "$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Microsoft.BareMetalInfrastructure",
  "description": "Microsoft BareMetalInfrastructure Resource Types",
  "resourceDefinitions": {
    "bareMetalInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-08-01-preview"
          ]
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": "^[a-zA-Z0-9]+$"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Name of the Azure Bare Metal Instance, also known as the ResourceName."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/AzureBareMetalInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Describes the properties of an Azure Bare Metal Instance."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.BareMetalInfrastructure/bareMetalInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.BareMetalInfrastructure/bareMetalInstances"
    },
    "bareMetalStorageInstances": {
      "type": "object",
      "properties": {
        "apiVersion": {
          "type": "string",
          "enum": [
            "2024-08-01-preview"
          ]
        },
        "identity": {
          "oneOf": [
            {
              "$ref": "#/definitions/AzureBareMetalStorageInstanceIdentity"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Identity for Azure Bare Metal Storage Instance."
        },
        "location": {
          "type": "string",
          "description": "The geo-location where the resource lives"
        },
        "name": {
          "oneOf": [
            {
              "type": "string",
              "pattern": ".*"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Name of the Azure Bare Metal Storage Instance, also known as the ResourceName."
        },
        "properties": {
          "oneOf": [
            {
              "$ref": "#/definitions/AzureBareMetalStorageInstanceProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Describes the properties of an AzureBareMetalStorageInstance."
        },
        "tags": {
          "oneOf": [
            {
              "type": "object",
              "additionalProperties": {
                "type": "string"
              },
              "properties": {}
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource tags."
        },
        "type": {
          "type": "string",
          "enum": [
            "Microsoft.BareMetalInfrastructure/bareMetalStorageInstances"
          ]
        }
      },
      "required": [
        "apiVersion",
        "location",
        "name",
        "properties",
        "type"
      ],
      "description": "Microsoft.BareMetalInfrastructure/bareMetalStorageInstances"
    }
  },
  "definitions": {
    "AzureBareMetalInstanceProperties": {
      "type": "object",
      "properties": {
        "azureBareMetalInstanceId": {
          "type": "string",
          "description": "Specifies the Azure Bare Metal Instance unique ID."
        },
        "hardwareProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/HardwareProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the hardware settings for the Azure Bare Metal Instance."
        },
        "hwRevision": {
          "type": "string",
          "description": "Hardware revision of an Azure Bare Metal Instance"
        },
        "networkProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/NetworkProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the network settings for the Azure Bare Metal Instance disks."
        },
        "osProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/OSProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the operating system settings for the Azure Bare Metal instance."
        },
        "partnerNodeId": {
          "type": "string",
          "description": "ARM ID of another AzureBareMetalInstance that will share a network with this AzureBareMetalInstance"
        },
        "powerState": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "starting",
                "started",
                "stopping",
                "stopped",
                "restarting",
                "unknown"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Resource power state."
        },
        "proximityPlacementGroup": {
          "type": "string",
          "description": "Resource proximity placement group"
        },
        "storageProfile": {
          "oneOf": [
            {
              "$ref": "#/definitions/StorageProfile"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the storage settings for the Azure Bare Metal instance disks."
        }
      },
      "description": "Describes the properties of an Azure Bare Metal Instance."
    },
    "AzureBareMetalStorageInstanceIdentity": {
      "type": "object",
      "properties": {
        "type": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "SystemAssigned",
                "None"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "The type of identity used for the Azure Bare Metal Storage Instance. The type 'SystemAssigned' refers to an implicitly created identity. The type 'None' will remove any identities from the Azure Bare Metal Storage Instance."
        }
      },
      "description": "Identity for Azure Bare Metal Storage Instance."
    },
    "AzureBareMetalStorageInstanceProperties": {
      "type": "object",
      "properties": {
        "azureBareMetalStorageInstanceUniqueIdentifier": {
          "type": "string",
          "description": "Specifies the AzureBareMetaStorageInstance unique ID."
        },
        "storageProperties": {
          "oneOf": [
            {
              "$ref": "#/definitions/StorageProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "described the storage properties of the azure bare metal storage instance"
        }
      },
      "description": "Describes the properties of an AzureBareMetalStorageInstance."
    },
    "Disk": {
      "type": "object",
      "properties": {
        "diskSizeGB": {
          "oneOf": [
            {
              "type": "integer"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the size of an empty data disk in gigabytes."
        },
        "name": {
          "type": "string",
          "description": "The disk name."
        }
      },
      "description": "Specifies the disk information fo the Azure Bare Metal Instance"
    },
    "HardwareProfile": {
      "type": "object",
      "properties": {
        "azureBareMetalInstanceSize": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "S72m",
                "S144m",
                "S72",
                "S144",
                "S192",
                "S192m",
                "S192xm",
                "S96",
                "S112",
                "S224",
                "S224m",
                "S224om",
                "S224oo",
                "S224oom",
                "S224ooo",
                "S384",
                "S384m",
                "S384xm",
                "S384xxm",
                "S448",
                "S448m",
                "S448om",
                "S448oo",
                "S448oom",
                "S448ooo",
                "S448se",
                "S576m",
                "S576xm",
                "S672",
                "S672m",
                "S672om",
                "S672oo",
                "S672oom",
                "S672ooo",
                "S768",
                "S768m",
                "S768xm",
                "S896",
                "S896m",
                "S896om",
                "S896oo",
                "S896oom",
                "S896ooo",
                "S960m"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the Azure Bare Metal Instance SKU."
        },
        "hardwareType": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Cisco_UCS",
                "HPE",
                "SDFLEX"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Name of the hardware type (vendor and/or their product name)."
        }
      },
      "description": "Specifies the hardware settings for the Azure Bare Metal Instance."
    },
    "NetworkInterface": {
      "type": "object",
      "properties": {
        "ipAddress": {
          "type": "string",
          "description": "Specifies the IP address of the network interface."
        }
      },
      "description": "Specifies the network interfaces of a bare metal resource."
    },
    "NetworkProfile": {
      "type": "object",
      "properties": {
        "circuitId": {
          "type": "string",
          "description": "Specifies the circuit id for connecting to express route."
        },
        "networkInterfaces": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/NetworkInterface"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies the network interfaces for the Azure Bare Metal Instance."
        }
      },
      "description": "Specifies the network settings for the Azure Bare Metal Instance disks."
    },
    "OSProfile": {
      "type": "object",
      "properties": {
        "computerName": {
          "type": "string",
          "description": "Specifies the host OS name of the Azure Bare Metal instance."
        },
        "osType": {
          "type": "string",
          "description": "This property allows you to specify the type of the OS."
        },
        "sshPublicKey": {
          "type": "string",
          "description": "Specifies the SSH public key used to access the operating system."
        },
        "version": {
          "type": "string",
          "description": "Specifies version of operating system."
        }
      },
      "description": "Specifies the operating system settings for the Azure Bare Metal instance."
    },
    "StorageBillingProperties": {
      "type": "object",
      "properties": {
        "azureBareMetalStorageInstanceSize": {
          "type": "string",
          "description": "the SKU type that is provisioned"
        },
        "billingMode": {
          "type": "string",
          "description": "the billing mode for the storage instance"
        }
      },
      "description": "Describes the billing related details of the AzureBareMetalStorageInstance."
    },
    "StorageProfile": {
      "type": "object",
      "properties": {
        "nfsIpAddress": {
          "type": "string",
          "description": "IP Address to connect to storage."
        },
        "osDisks": {
          "oneOf": [
            {
              "type": "array",
              "items": {
                "$ref": "#/definitions/Disk"
              }
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Specifies information about the operating system disk used by bare metal instance."
        }
      },
      "description": "Specifies the storage settings for the Azure Bare Metal instance disks."
    },
    "StorageProperties": {
      "type": "object",
      "properties": {
        "generation": {
          "type": "string",
          "description": "the kind of storage instance"
        },
        "hardwareType": {
          "type": "string",
          "description": "the hardware type of the storage instance"
        },
        "offeringType": {
          "type": "string",
          "description": "the offering type for which the resource is getting provisioned"
        },
        "provisioningState": {
          "oneOf": [
            {
              "type": "string",
              "enum": [
                "Accepted",
                "Creating",
                "Updating",
                "Failed",
                "Succeeded",
                "Deleting",
                "Canceled",
                "Migrating"
              ]
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "State of provisioning of the AzureBareMetalStorageInstance."
        },
        "storageBillingProperties": {
          "oneOf": [
            {
              "$ref": "#/definitions/StorageBillingProperties"
            },
            {
              "$ref": "https://schema.management.azure.com/schemas/common/definitions.json#/definitions/expression"
            }
          ],
          "description": "Describes the billing related details of the AzureBareMetalStorageInstance."
        },
        "storageType": {
          "type": "string",
          "description": "the storage protocol for which the resource is getting provisioned"
        },
        "workloadType": {
          "type": "string",
          "description": "the workload for which the resource is getting provisioned"
        }
      },
      "description": "described the storage properties of the azure bare metal storage instance"
    }
  }
}